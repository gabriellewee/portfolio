@import 'partials/shared/utilities';

.post-me {
	.post-inner {
		padding: calc(var(--p) * 2);
	}
	.post-footer {
		margin-top: calc(var(--p) * 2);
	}
	.post-header {
		margin-bottom: calc(var(--p)*1.5);
		h2 {
			@include font-weight-width(800, 120);
			font-size: 1.5rem;
			line-height: 1.2;
			@include viewport(mobile) {
				font-size: 1.75rem;
			}
		}
		p {
			margin-top: var(--p);
			line-height: 1.334;
			font-weight: 600;
			strong {
				font-weight: 900;
			}
		}
		+ .button {
			margin-top: 0;
		}
	}
	.button {
		display: inline-block;
	}
}

.grid {
	list-style: none;
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	grid-gap: calc(var(--p)*2);
}

.post-expand, .post-external {
	transition: .2s ease-out;
	display: block;
	position: relative;
	&:before {
		@include before(var(--color-rose));
	}
	picture {
		@include clip-path-edges(2px);
	}
	&:focus-visible {
		&:before {
			opacity: 1;
		}
	}
	&:active {
		scale: 0.98;
	}
}

.post-intro {
	width: 100%;
	.post-inner {
		padding: 0;
	}
	.post-header {
		padding: calc(var(--p)*2);
		margin-bottom: 0;
	}
	$width: 320px;
	.post-image {
		display: grid;
		place-items: center;
		position: relative;
		width: 100%;
		height: $width;
		&:before, &:after {
			@include background-image(avatars/intro, jpg);
			content: "";
			display: block;
			position: absolute;
			background-size: contain;
			background-repeat: repeat;
			background-position: center;
			height: $width;
		}
		&:before {
			filter: contrast(50%) saturate(30%) brightness(120%) opacity(60%);
			width: 100%;
			@include dark {
				filter: contrast(50%) saturate(30%);
			}
		}
		&:after {
			width: $width;
		}
	}
}

.post-music {
	width: 100%;
	min-width: 345px;
	max-width: 700px;
	@include viewport($desktop) {
		max-width: 376px;
	}
	iframe {
		display: block;
	}
}

.post-game {
	width: 100%;
	@include viewport($desktop) {
		max-width: 672px;
	}
	.grid {
		grid-template-columns: repeat(2, 1fr);
		@include viewport(mobile) {
			grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
		}
		@include viewport($desktop-small) {
			grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
		}
		@include viewport($desktop) {
			grid-template-columns: repeat(2, 1fr);
		}
	}
	h3 {
		@include font-weight-width(450, 110);
		font-size: 1.25rem;
		margin-top: calc(var(--p)*2);
		margin-bottom: var(--p);
	}
	.button, .friend-code-container {
		margin-top: calc(var(--p)*2);
	}
	.friend-code-container {
		@include viewport(mobile) {
			display: inline-flex;
			align-items: center;
		}
		label {
			@include font-weight-width(450, 110);
			margin-right: var(--p);
			font-size: 1.25rem;
		}
		input {
			@include clip-path-edges(2px);
			appearance: none;
			border: 0;
			max-width: 208px;
			padding: var(--p) calc(var(--p)*1.5);
			background-color: hsla(var(--color-iron-hsl), .1);
			font-family: var(--font-mono);
			font-size: 1.125rem;
			@include dark {
				background-color: hsla(var(--color-iron-8-hsl), .4);
				color: white;
			}
		}
		.clip-container {
			margin-top: var(--p);
			@include viewport(mobile) {
				margin-top: 0;
			}
		}
	}
}

.post-mods {
	.grid {
		margin-top: calc(var(--p)*2);
		grid-template-columns: repeat(auto-fill, minmax(128px, 1fr));
	}
	picture {
		@include clip-path-edges(2px);
		background-color: hsla(var(--color-iron-hsl), .05);
		@include dark {
			background-color: hsla(var(--color-white-hsl), .1);
		}
	}
}

.post-graphic {
	img {
		aspect-ratio: 4 / 3;
		object-fit: cover;
	}
}