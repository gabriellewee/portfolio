@use 'sass:math';

.grid-item-writing {
	background-color: mix($red, white, 20%);
	color: $iron;
	font-family: $recursive;
	@include dark {
		background-color: mix($red, $iron, 10%);
		color: white;
	}
	h2 {
		font-weight: 1000;
		font-variation-settings: "wght" 1000, "CASL" 1;
		padding: $p calc(#{$p*1.5} + env(safe-area-inset-left));
		@include max {
			padding: $p max(#{$p*1.5}, env(safe-area-inset-left));
		}
	}
	div {
		padding: 0 calc(#{$p*1.5} + env(safe-area-inset-left)) $p;
		@include max {
			padding: 0 max(#{$p*1.5}, env(safe-area-inset-left)) $p;
		}
	}
	h3 {
		opacity: 0.5;
		margin-bottom: $p*.5;
		font-size: 24px;
		font-weight: 900;
		font-variation-settings: "wght" 900, "CASL" 1;
	}
	a {
		will-change: background-color, color, transform;
		transition: .1s ease-out;
		&:active {
			transform: scale(0.98);
		}
	}
	.writes {
		opacity: 1;
		a {
			display: inline-block;
			opacity: 0.5;
			&:focus {
				span {
					text-decoration: underline;
				}
			}
			&:hover, &:focus {
				color: $red;
				opacity: 1;
			}
			&:active {
				color: $iron;
			}
			@include dark {
				&:hover, &:focus {
					color: white;
					opacity: 1;
				}
				&:active {
					color: $red;
				}
			}
			&:after {
				content: "Â \2192"
			}
		}
	}
	ul {
		list-style: none;
	}
	li {
		display: flex;
		flex-wrap: wrap;
		align-items: center;
		align-content: center;
		a, time {
			display: block;
			margin-bottom: $p;
		}
		a span, time {
			display: block;
			padding: $p*.5 $p;
			@include clip-path {
				clip-path: polygon(2px 0%, calc(100% - 2px) 0%, 100% 2px, 100% calc(100% - 2px), calc(100% - 2px) 100%, 2px 100%, 0% calc(100% - 2px), 0% 2px);
			}
			@include clip-path-alt {
				border-radius: $p*.25;
			}
		}
		> *:not(:last-child) {
			margin-right: $p;
		}
		span {
			background-color: $red;
		}
		a {
			position: relative;
			color: white;
			font-size: 20px;
			font-weight: 500;
			font-variation-settings: "wght" 500, "CASL" 0.5;
			&:before {
				opacity: 0;
				content: "";
				display: block;
				position: absolute;
				top: -$p*.25;
				left: -$p*.25;
				height: calc(100% + #{$p*.5});
				width: calc(100% + #{$p*.5});
				background-color: rgba($red, .5);
				@include clip-path {
					clip-path: polygon(3px 0%, calc(100% - 3px) 0%, 100% 3px, 100% calc(100% - 3px), calc(100% - 3px) 100%, 3px 100%, 0% calc(100% - 3px), 0% 3px);
				}
				@include clip-path-alt {
					border-radius: $p*.25;
				}
			}
			&:focus {
				&:before {
					opacity: 1;
				}
			}
			&:hover, &:focus {
				color: $red;
				span {
					background-color: white;
				}
			}
			&:active {
				transform: scale(0.98);
				span {
					background-color: $iron;
				}
			}
			@include dark {
				&:active {
					span {
						background-color: darken($iron, 5%);
					}
				}
			}
		}
		time {
			background-color: rgba($iron, .2);
			@include dark {
				background-color: rgba(white, .2);
			}
		}
		.link span, time {
			padding: $p*.5 $p;
			font-size: 16px;
			font-weight: 700;
			font-variation-settings: "wght" 700, "CASL" 1;
			text-transform: uppercase;
		}
		.link {
			&.link-podcasts {
				&:hover, &:focus {
					color: $ap;
				}
				&:focus {
					&:before {
						background-color: rgba($ap, .5);
					}
				}
				span {
					background-color: $ap;
				}
			}
			&.link-spotify {
				&:hover, &:focus {
					color: $sp;
				}
				&:focus {
					&:before {
						background-color: rgba($sp, .5);
					}
				}
				span {
					background-color: $sp;
				}
			}
			&.link-medium {
				&:hover, &:focus {
					color: $med;
				}
				&:focus {
					&:before {
						background-color: rgba($med, .5);
					}
				}
				span {
					background-color: $med;
				}
			}
			&:hover, &:focus {
				span {
					background-color: white;
				}
			}
			&:active {
				span {
					background-color: $iron;
				}
			}
			@include dark {
				&:hover, &:focus {
					span {
						background-color: white;
					}
				}
				&:active {
					span {
						background-color: darken($iron, 5%);
					}
				}
			}
		}
	}
}